### Что нужно сделать:

Нужно доработать страницу каталога и реализовать на ней дополнительный функционал, т.е. предстоит поработать с уже готовой разметкой и стилями. Все HTML-структуры и CSS для проекта, включая состояния интерактивных элементов, уже созданы.

## Технические требования:

    - Открытие/закрытие бургерного меню каталога сайта.
    - Открытие/закрытие выпадающего меню для выбора города с возможностью смены варианта по клику на соответствующий пункт.
    - Отрисовка карточек товаров с помощью JavaScript на основе данных из внешнего файла data.json.
    - Отображение количества товаров в соответствующей категории рядом с каждым фильтром (чекбоксом) в форме.
    - Фильтрация товаров на основе выбранных фильтров формы с возможностью сортировки по типу и наличию товара.
    - Сортировка карточек товаров по трём параметрам: дорогие, дешёвые, популярные.
    - Добавление/удаление товаров в корзине и отображение содержимого корзины на сайте.
    - Функционал аккордеона в блоке «Ответы на частые вопросы».
    - Слайдер в блоке «Товары дня», созданный с помощью библиотеки Swiper.js.
    - Валидация формы в блоке «Обратитесь к нам» с помощью библиотеки Just Validate.
    - Отправка формы на сервер по адресу: https://httpbin.org/post.

## Инструкции по использованию инфраструктуры:

    В вашем распоряжении есть [дизайн макета Figma](https://www.figma.com/design/LwQ6blgDCgM4NoNXeXiRpO/Skillbox-%C3%97-AffArts-%3A%3A-Briaton?node-id=0-1&t=P3an92eAD3cssD5h-1), поэтому вам не нужно ничего верстать с нуля: все элементы и их состояния уже подготовлены. Вы можете ориентироваться и сверяться с макетом при реализации каждого пункта ТЗ.

    Инфраструктура начального проекта выглядит следующим образом:

    - В папке **css** хранится стилевой файл style.css, который получается при компиляции SCSS и подключается в теге **head** на странице проекта **catalog.html.**
    - В папке **data** находится файл **data.json**, который имитирует сервер. Также в файле хранятся данные для карточек товаров.
    - В папке **fonts** — шрифты проекта.
    - В папке **images** хранятся изображения и иконки для спрайтов.
    - Папка **js** — основная папка, в которой вам предстоит работать. Внутри есть файл **main.js**, к которому нужно подключить все модули из папки **components.**
        - Папка **components** предназначена для хранения модулей, каждый из которых содержит отдельный функциональный блок. В этих модулях необходимо написать код, реализующий конкретные компоненты, которые используются на страницах проекта. Каждый файл должен быть независимым и отвечать за одну часть интерфейса, например за кнопки, формы или выпадающие меню.
        - Папка **vendor** хранит внешние библиотеки. Всё, что вам нужно для работы, уже добавлено в папку и подключено к проекту.
    - В папке **scss** хранятся файлы стилей, написанные с использованием препроцессора SCSS.
    - Файл **catalog.html** — основной файл разметки для страницы каталога. В нём содержится структура HTML, которая отвечает за отображение всех элементов интерфейса каталога.

## Подсказки и советы:

    В этом блоке вы найдёте инструменты, методы и подходы, которые помогут вам реализовать требования по функционалу.

    ### **Бургерное меню каталога сайта**

    Чтобы бургерное меню открылось, нужно добавить к элементу с классом .main-menu класс модификатора .main-menu--active. Для закрытия меню этот класс нужно удалить из элемента.

    ### **Меню выбора города**

    При нажатии на кнопку с классом **.location__city** к ней должен добавляться класс-модификатор **.location__city--active**, чтобы отобразить выпадающее меню.

    Выбор города:

    1. пользователь кликает по названию города в выпадающем меню, и оно заменяет текст элемента с классом **.location__city-name**;
    2. выпадающее меню закрывается.

    Закрытие меню:

    1. пользователь не выбирает новый город и снова нажимает на элемент с классом **.location__city**;
    2. выпадающее меню закрывается.

    ### **Отрисовка карточек товаров с помощью JavaScript**

    В разметке страницы не должно быть карточек товаров. Их нужно создать динамически с помощью JavaScript.

    Чтобы получить данные, используйте файл **data.json**, который находится в папке **data** проекта (**data/data.json**). Он имитирует сервер и содержит в себе информацию обо всех товарах интернет-магазина.

    Работайте с файлом так же, как вы работали бы с реальным сервером за тем исключением, что адрес в fetch-запросе должен быть следующим: **fetch('./data/data.json').**

    После успешного получения данных необходимо сформировать разметку карточек товаров. Для этого подставьте соответствующие данные из файла data.json в HTML-теги.

    Отрисованные карточки должны добавляться на страницу и в список с классом **.catalog__list**.

    За основу разметки карточки возьмите уже добавленный в код вариант.

    ### **Количество товаров в соответствующей категории рядом с каждым фильтром**

    В файле **data.json**, внутри каждого объекта карточки товара есть свойство type, указывающее на категорию, к которой относится данный товар. Необходимо проверить значение атрибута value у каждого чекбокса фильтра. Если оно соответствует значению type из массива данных карточек, увеличьте количество товаров рядом с этим фильтром на 1.

    Если товаров в данной категории нет (количество равно 0), рядом с фильтром нужно отобразить значение 0.

    ### **Фильтрация товаров**

    Наличие товара можно узнать в свойстве **availability** в данных карточки. Если хотя бы в одном городе товар есть в наличии, фильтр должен сработать. Тип товара можно узнать в свойстве **type** в каждой карточке.

    ### **Сортировка товаров**

    Популярность товара можно узнать в свойстве **rating** в данных карточки. Чтобы отсортировать результаты по стоимости, нужно узнать цену товара, которая указана в свойстве **new** объекта **price** в данных карточки.

    ### **Добавление/удаление товаров в корзине**

    Отображение корзины в шапке сайта:

    1. при клике по элементу «Корзина» в шапке сайта появляется выпадающее меню корзины;
    2. при повторном клике по элементу «Корзина» выпадающее меню скрывается.

    Чтобы выполнить это, в элементе с классом **.basket** нужно добавить или убрать класс-модификатор **.basket--active**, который управляет показом/скрытием корзины.

    Добавление товара в корзину:

    1. при наведении курсора на карточку товара появляются две кнопки, на одной из них написано «В корзину»;
    2. пользователь нажимает на кнопку «В корзину», выбранный товар добавляется в корзину, и счётчик товаров в ней обновляется.

    Начальное состояние корзины:

    1. корзина пуста, в ней отображается блок с классом **.basket__empty-block**;
    2. пользователь добавляет товар в корзину, блок с классом **.basket__empty-block** скрывается.

    Обновление счётчика товаров:

    1. счётчик товаров в корзине показывает 0;
    2. товар добавляется в корзину, счётчик увеличивается (если добавлен один товар, отображается 1, два товара — 2 и так далее).

    Удаление товара из корзины

    Для удаления товара из корзины предусмотрена кнопка с классом **.basket__close.** При нажатии на неё товар удаляется из корзины (удалите соответствующий элемент из DOM с помощью метода **.remove()**).

    **Рекомендации по реализации**

    При отрисовке карточек товара присвойте каждой кнопке «В корзину» атрибут **data-id**, в котором будет уникальный идентификатор карточки (из данных товара).

    При клике по кнопке «В корзину» нужно:

    1. получить идентификатор **data-id**;
    2. найти соответствующий товар в массиве данных с карточками товаров;
    3. используя данные товара и шаблон для корзины, создать новый элемент (карточку) товара в корзине.

    Функционал этого задания аналогичен тому, которые вы реализовывали при отрисовке основных карточек на странице. Отличие только в том, что вам в необходимо найти общем массиве карточек нужную, взять из неё данные и на основе готовой разметки отрисовать карточки в корзине.

    Для разметки карточки товара в корзине используйте уже готовый шаблон карточки товара в коде, под классом li class="basket__item".

    ### **Аккордеон**

    Аккордеон — это элемент интерфейса, который позволяет пользователям скрывать или раскрывать дополнительную информацию, нажимая на заголовки секций. Такой подход помогает компактно организовать контент, улучшить навигацию и упростить восприятие информации.

    Открытие аккордеона:

    1. при клике по кнопке с классом **.accordion__btn** к ней добавляется класс **.accordion__btn--active**;
    2. при активации кнопки раскрывается скрытый под ней контент (ответ на вопрос).

    Закрытие аккордеона:

    1. пользователь кликает по другой кнопке аккордеона;
    2. предыдущий раскрытый пункт закрывается.

    У уже открытого пункта нужно удалить класс **.accordion__btn--active** и скрыть его контент. Чтобы новый выбранный пункт открылся, добавьте к его кнопке класс **.accordion__btn--active** и покажите его содержимое.

    **Рекомендации по реализации**

    - Сделайте так, чтобы в один момент времени был открыт только один пункт аккордеона.
    - Если пользователь нажимает на уже активную кнопку, аккордеон должен закрыться.

    ### **Слайдер в блоке «Товар дня»**

    В блок «Товары дня» должны попадать только те карточки товаров, в данных которых (файл data.json) есть свойство goodsOfDay со значением true. Это позволит отобразить в слайдере только актуальные товары дня.

    **Создание слайдов**

    1. В отдельном модуле slider.js напишите функцию для создания слайдов с товарами.
    2. Для каждого товара из отобранных данных создайте элемент <li>, добавив ему два класса: **.day-products__item** и **.swiper-slide**.
    3. Внутрь каждого элемента <li> вставьте HTML-разметку карточки товара. Для генерации этой разметки используйте заранее подготовленную функцию, которая наполняет карточку данными из файла **data.json**.

    **Инициализация слайдера**

    1. После того как все карточки товаров были отрисованы в блоке, инициализируйте слайдер с помощью библиотеки Swiper.js.
    2. В том же модуле **slider.js** создайте отдельную функцию, которая будет отвечать за настройку и запуск слайдера.

    Настройте слайдер следующим образом:

    - **навигация:** добавьте стрелки навигации с классами **.day-products__navigation-btn--next** и **.day-products__navigation-btn--prev**;
    - **отступы между слайдами:** с помощью свойства **spaceBetween** задайте расстояние между слайдами;
    - **количество видимых слайдов:** с помощью свойства **slidesPerView** укажите, сколько слайдов должно быть видно одновременно (по макету это четыре слайда).

    **Важные моменты**

    - Сначала необходимо отфильтровать карточки по критерию goodsOfDay: true, создать HTML-разметку слайда для каждой из них и добавить их в список блока товаров дня.
    - Инициализируйте слайдер Swiper с заданными настройками только после того, как все карточки будут добавлены в блок «Товары дня».

    ### **Валидация формы**

    В блоке «Обратитесь к нам» ко всем трём элементам формы должна применяться валидация, которая выполняется с помощью библиотеки Just Validate.

    - Поле «Ваше имя»: обязательно для заполнения, минимальная длина имени — 3 символа, максимальная длина — 20 символов.
    - Поле «Ваша почта»: обязательно для заполнения, валидируется по типу email.
    - Чекбокс о согласии на обработку данных: обязательно к выбору.

    Если при нажатии на кнопку «Отправить заявку» поля не прошли валидацию, под ним должно появиться уведомление об ошибке с текстовым описанием.

    **Отправка формы**

    Форма отправляется на сервер https://httpbin.org/post с методом запроса POST.

    При успешной отправке должно появиться модальное окно об успешной регистрации с возможностью его закрыть при нажатии на крестик. Если данные не отправились на сервер, например из-за неверно указанного адреса, открывается модальное окно с сообщением об ошибке (о том, что форма не отправилась) с возможностью его закрыть при нажатии на крестик.

    Вы можете стилизовать модальное окно и написать текст сообщения на своё усмотрение.

    ### **Пагинация**

    Пагинация — это метод разделения контента на несколько страниц, чтобы облегчить его восприятие и навигацию на сайте. Вместо того чтобы отображать всю информацию на одной длинной странице, пагинация разбивает её на более управляемые части, у каждой из которых есть отдельная страница.

    Прежде чем реализовать логику работы пагинации, нужно её разбить на страницы и доработать логику отрисовки карточек с товарами.

    **Доработка логики отрисовки карточек**

    - Изначально на странице должно отображаться не больше шести карточек.
    - Если карточек больше шести, лишние объекты скрываются и появляется пагинация.
    - Чтобы выбрать и отрисовать нужное количество карточек, воспользуйтесь методом массива **.slice(start, end)**. Он поможет вам извлечь из общего массива только те карточки, которые нужно отобразить на текущей странице.
    - Пагинация отображается, если общее количество карточек больше шести. Например, если карточек восемь, в пагинации должно быть два элемента (страницы 1 и 2). Если карточек 20, в пагинации должно быть четыре элемента (страницы 1–4).

    **Логика работы пагинации**:

    - Если количество карточек больше шести, должна работать пагинация.
    - Если всего карточек восемь, в пагинации должно быть два элемента (страницы 1 и 2). Например, при нажатии на номер страницы 2 должны отрисовываться карточки 7–8. Для этого используйте метод массива .slice(6, 8).
    - Если всего карточек 20, при нажатии на номер страницы 3 должны отрисовываться карточки 13–18. Для этого используйте метод .slice(12, 18).

    ### **Всплывающие подсказки с использованием библиотеки Tippy.js**

    У каждой карточки товара есть кнопка с символом i. При наведении на неё курсора появляется всплывающая подсказка, созданная с помощью библиотеки Tippy.js.

    В ней нужно показать информацию о доступности товара в разных городах. Эти данные можно найти в объекте карточки товара в свойстве **availability**.

    **Подсказка**

    - При создании карточки товара инициализируйте для каждой кнопки i всплывающую подсказку с помощью Tippy.js.
    - В качестве содержимого подсказки (content) используйте заранее подготовленную HTML-разметку с помощью .tooltip__content.innerHTML, где **.tooltip__content** — это элемент-обёртка, содержимое которого должно подставляться в tippy.js.

## Что можно добавить (дополнительно):

    Это дополнительные задачи, которые вы можете решить, чтобы улучшить проект.

    - Работа пагинации на страницы каталога.
    - Всплывающие подсказки на каждой карточке товара с использованием библиотеки Tippy.js.
